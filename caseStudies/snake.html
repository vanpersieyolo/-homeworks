<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>snake</title>
    <link rel="stylesheet" href="snake.css">
</head>
<body onload="docReady()">
<canvas id="myCanvas" width="1368px" height="768px" style=" border:5px solid coral"></canvas>
</body>
<script>
    var ctx = document.getElementById("myCanvas").getContext("2d");
    function CircleHead(pos1,pos2,rad) { //class circle
        this.pos1 = pos1;//ngang
        this.pos2 = pos2;//d·ªçc
        this.rad= rad;
        this.dx = 2;
        this.dy = 0;

        this.printfCircle = function () {   //method circle
            ctx.clearRect(0,0,1368,768);
            ctx.beginPath();
            ctx.arc(this.pos1,this.pos2,this.rad,0,2*Math.PI);
            ctx.fill();
            ctx.closePath();
        }
        this.moveSnake = function () {     //method move
            this.pos1 = this.pos1 + this.dx;
            this.pos2 = this.pos2 + this.dy;
        }
        this.linevacham = function () {

        }

    }
    function Linevacham(m1,m2,m3,m4) {
        this.m1 = m1;
        this.m2 = m2;
        this.m3 = m3;
        this.m4 = m4;

        this.drawline = function () {
            ctx.beginPath();
            ctx.moveTo(m1, m2);
            ctx.lineTo(m3, m4);
            ctx.stroke();
        }
    }
    let linevacham = new Linevacham(Pos1,Pos2,this.toaDo1,this.toaDo2);
    linevacham.drawline();

    var Pos1 = 90;
    var Pos2 = 40;
    let circlehead =new CircleHead(Pos1,Pos2,20);
    function moveclick(evt) {
        switch (evt.keyCode) {
            case 37:
                moveleftCircle();
                break;
            case 39:
                moverightCircle();
                break;
            case 38:
                moveupCircle();
                break;
            case 40:
                movedownCircle();
                break;
            case 32:
                window.stop();
                break;
        }
    }

    function automove() {
        circlehead.moveSnake();
        circlehead.printfCircle();
        squaree.SquareOnTable();
        linevacham.drawline();
    }
    let timeID = setInterval(automove,10);

    function moveleftCircle(){
        circlehead.dx= -2;
        circlehead.dy=0;

    }
    function moverightCircle(){
        circlehead.dx= +2;
        circlehead.dy=0;

    }
    function moveupCircle (){
        circlehead.dx= 0;
        circlehead.dy= -2;

    }
    function movedownCircle (){
        circlehead.dx= 0;
        circlehead.dy= +2;

    }
    function movepause (){
        circlehead.dx = + 0;
        circlehead.dy = + 0;
    }
    circlehead.printfCircle();
    function docReady() {
        window.addEventListener('keydown',moveclick);
    }


    function Squaree(canhA,toado1,toado2) {
        this.CanhA = canhA;
        this.toaDo1 = toado1;
        this.toaDo2 = toado2;
        this.SquareOnTable = function() {
            ctx.beginPath();
            ctx.rect( this.toaDo1,this.toaDo2,this.CanhA, this.CanhA);
            ctx.fill() ;

        }

    }
    let squaree = new Squaree(40,Math.random()*600, Math.random()*600,);
    squaree.SquareOnTable();

</script>
</html>